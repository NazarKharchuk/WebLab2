<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Task 5</title>
    <style>
        form{
            display: flex;
            flex-direction: column;
            align-items:center;
            justify-content: center;
            visibility: hidden;
        }
        form>input{
            margin: 10px 10px 10px;
        }
        form>p{
            margin-bottom: 20px;
            margin-left: 20px;
        }
        #my_button{
            margin: 10px 10px 10px;
        }
        #my_reset{
            margin: 10px 10px 30px;
        }
        article{
            display: flex;
            flex-direction: column;
            align-items:center;
            justify-content: center;
        }
    </style>
</head>
<body>
    <div class="wrapper">
        <div class="notSix">
            <div class="notTwo">
                <header>
                    <div class="hederDiv">
                        <h2>Fifth page</h2>
                    </div>
                    <p class="hederText">
                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Architecto voluptas, neque doloremque, labore fuga ullam nostrum odit quam quaerat ipsam aut doloribus similique maiores quae voluptates ipsa ut quis est. 
                    </p>
                </header>
                <div class="notOne">
                    <nav>
                        <ul class="menu">
                            <li><a href="index.html">Сторінка №1</a></li>
                            <li><a href="second page.html">Сторінка №2</a></li>
                            <li><a href="third page.html">Сторінка №3</a></li>
                            <li><a href="fourth page.html">Сторінка №4</a></li>
                            <li><a href="fifth page.html">Сторінка №5</a></li>
                        </ul>
                    </nav>
                    <div class="notThree">
                        <figcaption>
                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Iusto doloremque ad, nihil quidem non? Beatae earum sunt quod distinctio eveniet veritatis!</p>
                        </figcaption>
                        <main>
                            <form action="" id="my_form">
                                <p><b> Додати задані атрибути до заданих тегів:</b></p>
                                <input type="text" name="Tag" id="TagID" placeholder="Тег">
                                <input type="text" name="Atribyte" id="AtribyteID" placeholder="Атрибут">
                                <input type="text" name="Value" id="ValueID" placeholder="Значення атрибута">
                                <input  type="button" id="my_button" onclick="f()" value="Додати">
                                <input type="reset" id="my_reset" value="Очистити">
                            </form>
                            <img src="img/5.jpg" width="20%" alt="5">
                        </main>
                    </div>
                </div>
            </div>
            <aside>
                <p>Напишіть скрипт задання CSS-інструкцій для будь-якого тега в HTML-структурі
                    номерних блоків (1..6):
                    <br><b>а)</b> необхідні елементи форми появляються у блоці «5» внаслідок подвійного
                    кліку на блоці «у», кількість CSS-інструкцій необмежена;
                    <br><b>б)</b> після елементів форми розміщується кнопка, внаслідок натискання на яку
                    додана CSS-інструкція зберігається в локальному сховищі броузера і задіюється
                    для відповідного тега;
                    <br><b>г)</b> для кожної нової CSS-інструкції в блоці «2» розміщується кнопка, внаслідок
                    натискання якої ця CSS- інструкція видаляється із локального сховища броузера
                    і її вплив на відповідний тег припиняється - без перезавантаження документа.
                </p>
                <article></article>
            </aside>
        </div>
        <footer>
            <p class="footerText">
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Soluta a natus veritatis enim magnam amet quae voluptatum architecto, quaerat, blanditiis provident velit incidunt nostrum porro eius eos in culpa minima! <br>
                Lorem ipsum dolor sit, amet consectetur adipisicing elit. Enim exercitationem quod autem facere officiis, officia id tenetur numquam  aperiam dolore natus nam delectus. Dicta.
            </p>
            <div class="footerDiv" ondblclick = "DClisk()">
                <h2>Fifth page</h2>
            </div>
        </footer>
    </div>
</body>
<script>
    localStorage.clear();
    let count = 1;
    function DClisk(){
        document.getElementById('my_form').style.visibility = "visible";
    };
    
    function f(){
        var tag_value = document.getElementById('TagID').value;
        var atribyte_value = document.getElementById('AtribyteID').value;
        var value_value = document.getElementById('ValueID').value; 

        var elems = document.body.getElementsByTagName(tag_value);
        for(var i = 0; i < elems.length; i++)
        {
            elems[i].setAttribute(atribyte_value, value_value);
        }
        localStorage.setItem(count+'', tag_value+';'+atribyte_value+';'+value_value+';');
        
        var button = document.createElement("button");
        button.innerHTML = count;

        var body = document.getElementsByTagName("article")[0];
        body.appendChild(button);

        button.addEventListener ("click", function() {
            let name = button.innerText;
            let addy = localStorage.getItem(name+'');
            localStorage.removeItem(name+'');
            var s1= addy.substr(0, addy.indexOf(';'));
            //console.log(s1);
            let s11=addy.substr(addy.indexOf(';')+1, addy.length);
            var s2= s11.substr(0, s11.indexOf(';'));
            //console.log(s2);
            let s21=s11.substr(s11.indexOf(';')+1, s11.length);
            var s3= s21.substr(0, s21.indexOf(';'));
            //console.log(s3);
            var elems = document.body.getElementsByTagName(s1);
            for(var i = 0; i < elems.length; i++)
            {
                elems[i].removeAttribute(s2);
            }
            button.style.visibility= "hidden";
        });

        count = count+1;
    }

</script>
</html>