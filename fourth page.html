<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Task 4</title>
    <style>
        aside{
            display: flex;
            flex-direction: column;
            align-items:center;
            justify-content: center;
        }
    </style>
</head>
<body  onload="OnLoadFunction()">
    <div class="wrapper">
        <div class="notSix">
            <div class="notTwo">
                <header>
                    <div class="hederDiv">
                        <h2>Fourth page</h2>
                    </div>
                    <p class="hederText">
                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Architecto voluptas, neque doloremque, labore fuga ullam nostrum odit quam quaerat ipsam aut doloribus similique maiores quae voluptates ipsa ut quis est. 
                    </p>
                </header>
                <div class="notOne">
                    <nav>
                        <ul class="menu">
                            <li><a href="index.html">Сторінка №1</a></li>
                            <li><a href="second page.html">Сторінка №2</a></li>
                            <li><a href="third page.html">Сторінка №3</a></li>
                            <li><a href="fourth page.html">Сторінка №4</a></li>
                            <li><a href="fifth page.html">Сторінка №5</a></li>
                        </ul>
                    </nav>
                    <div class="notThree">
                        <figcaption>
                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Iusto doloremque ad, nihil quidem non? Beatae earum sunt quod distinctio eveniet veritatis!</p>
                        </figcaption>
                        <main>
                            <p id="forItalic">Lorem ipsum dolor sit amet consectetur adipisicing elit. Asperiores quos porro facere amet ducimus fugiat dolorum, labore sapiente, cumque voluptatem quis eveniet totam et provident. Quo autem magni alias accusamus. <br>
                            Lorem ipsum dolor sit amet consectetur adipisicing elit. Neque, eos obcaecati eius totam ullam omnis dolorum numquam sed aperiam dolore eveniet modi quas veniam quisquam? Perferendis dignissimos expedita quis facilis. <br>
                            Lorem ipsum dolor sit amet consectetur adipisicing elit. Explicabo numquam aliquam harum, quasi ipsa impedit ab totam, similique itaque amet aliquid tempore voluptate unde laboriosam eos incidunt deleniti? Enim, consectetur!
                            </p>
                            <img src="img/4.jpg" width="20%" alt="4">
                        </main>
                    </div>
                </div>
            </div>
            <aside>
                <p>Напишіть скрипт, який при настанні події keypress встановлює властивість
                    «курсив» для всього тексту в блоці «3» при встановленні користувачем
                    відповідної галочки у формі і зберігає відповідне значення «курсивності» тексту
                    в локальному сховищі броузера так, щоб при наступному відкриванні
                    документа значення «курсивності» тексту в блоці «3» встановлювалось із
                    збереженого значення в локальному сховищі.
                </p>
                <form action="">
                    <input type="checkbox" id="checkID" onchange="f()">
                    <label for="checkID"><i>Дозволити зміну тексту</i></label>
                </form>
                <p id="log"></p>
            </aside>
        </div>
        <footer>
            <p class="footerText">
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Soluta a natus veritatis enim magnam amet quae voluptatum architecto, quaerat, blanditiis provident velit incidunt nostrum porro eius eos in culpa minima! <br>
                Lorem ipsum dolor sit, amet consectetur adipisicing elit. Enim exercitationem quod autem facere officiis, officia id tenetur numquam  aperiam dolore natus nam delectus. Dicta.
            </p>
            <div class="footerDiv">
                <h2>Fourth page</h2>
            </div>
        </footer>
    </div>
</body>
<script>
    let isItalic = false;
    function getCookie(cname) {
        let name = cname + "=";
        let decodedCookie = decodeURIComponent(document.cookie);
        let ca = decodedCookie.split(';');
        for(let i = 0; i < ca.length; i++) {
            let c = ca[i];
            while (c.charAt(0) == ' ') {
                c = c.substring(1);
                }
            if (c.indexOf(name) == 0) {
                return c.substring(name.length, c.length);
            }
        }
        return "";
    }

    function OnLoadFunction(){
        let ourCookie = getCookie("Italic");
        if (ourCookie === "1") {
            isItalic = true;
            document.getElementById('forItalic').style.fontStyle = "italic";
        }
    }

    function PressKey(e) {
        if(isItalic){
            document.getElementById('forItalic').style.fontStyle = "normal";
            document.cookie = 'Italic=0;Expires=Thu, 01 Jan 2022 00:00:01 GMT;';
            isItalic = false;
        }else{
            document.getElementById('forItalic').style.fontStyle = "italic";
            document.cookie = 'Italic=1;Expires=Thu, 01 Jan 2022 00:00:01 GMT;';
            isItalic = true;
        }
    }

    function f(){
        var ourCheckbox = document.getElementById("checkID");
        if (ourCheckbox.checked) {
            document.addEventListener('keypress', PressKey);
	    }
	    else {
		    document.removeEventListener('keypress', PressKey);
	    }
    }


</script>
</html>